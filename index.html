<!DOCTYPE html>
<html lang="ko">
    <head>
        <!-- Google tag (gtag.js) -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-FSX9R0HH1Q"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'G-FSX9R0HH1Q');
        </script>
        <meta charset="UTF-8" />
        <meta name="viewport" />
        <title>주머니 상점 정보</title>
        <link rel="icon" href="favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="font.css" />
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <!-- Google Tag Manager (noscript) -->
        <noscript
            ><iframe
                src="https://www.googletagmanager.com/ns.html?id=GTM-T47T3F7D"
                height="0"
                width="0"
                style="display: none; visibility: hidden"
            ></iframe
        ></noscript>
        <div id="body-container">
            <div id="top-menu">
                <!-- End Google Tag Manager (noscript) -->
                <div
                    style="
                        display: flex;
                        justify-content: space-between;
                        flex-wrap: wrap;
                    "
                >
                    <p id="hiddenParagraph" style="display: none">
                        최신업데이트시간 241018 1913
                    </p>
                    <p
                        id="next-time"
                        style="
                            padding-left: 10px;
                            font-size: 30px;
                            font-family: 'Pretendard-Regular';
                            font-weight: 800;
                            color: black;
                        "
                    ></p>
                    <div style="padding: 3px; display: flex">
                        <label for="apiKeyInput" style="width: 20%"
                            >API키</label
                        >
                        <input
                            type="text"
                            id="apiKeyInput"
                            placeholder="API 키를 입력하세요"
                            value=""
                        />
                    </div>
                </div>
                <hr />
                <div class="search" style="display: flex">
                    <!-- 서버 선택 및 채널 입력 -->

                    <div style="display: flex; padding: 3px; flex-wrap: wrap">
                        <label for="serverSelect">서버</label>
                        <select id="serverSelect">
                            <option value="류트" selected>류트</option>
                            <option value="만돌린">만돌린</option>
                            <option value="하프">하프</option>
                            <option value="울프">울프</option>
                        </select>
                        <div class="tooltip">
                            <label for="channelInput">채널 </label>
                            <button id="chanPrevBtn">&lt;</button>
                            <select
                                id="channelInput"
                                style="width: 60px"
                            ></select>
                            <button id="chanNextBtn">&gt;</button>
                        </div>
                    </div>
                    <!-- <div style="padding-left: 30px;"></div> -->
                    <div style="display: flex; padding: 3px; flex-wrap: wrap">
                        <div class="tooltip">
                            <label for="locationSelect">교역소</label>
                            <button id="prevBtn">&lt;</button>
                            <select id="locationSelect">
                                <option value="전체" selected>전체</option>
                            </select>
                            <button id="nextBtn">&gt;</button>
                            <span class="tooltiptext gyo"
                                >특정 교역소만 선택해서 볼 수 있습니다</span
                            >
                        </div>
                        <div class="tooltip">
                            <label>
                                <input
                                    type="checkbox"
                                    id="channelingServer"
                                    style="width: auto"
                                /><span>특정서버 채널링</span>
                            </label>
                            <span class="tooltiptext" id="channelingTooltipText"
                                >체크시 선택한 서버만 채널링합니다</span
                            >
                        </div>
                        <div class="tooltip">
                            <button id="fetchButton" class="link">검색</button>
                            <span class="tooltiptext"
                                >API 키 입력 안하시면 검색이 안됩니다</span
                            >
                        </div>
                        <div class="tooltip">
                            <label>
                                <input type="checkbox" id="autoFetchCheckbox" />
                                자동 실행
                            </label>
                            <span class="tooltiptext"
                                >체크시 초기화 30초 후 자동실행됩니다</span
                            >
                        </div>
                    </div>
                </div>
                <!-- 초기값 설정 -->

                <hr />
                <div class="filterColor" id="filterColorMenu">
                    <div id="filterInputGroups">
                        <div id="filterAbove">
                            <div class="tooltip filterInput">
                                <label for="filterType"></label>
                                <select class="filterType">
                                    <option value="anywhere">전체</option>
                                    <option value="outer">겉감</option>
                                    <option value="roman">로마자</option>
                                    <option value="inner">안감</option>
                                </select>
                                <input
                                    type="text"
                                    class="colorInput"
                                    placeholder="예: 0, 255, 0"
                                />
                                <span class="tooltiptext">
                                    필터링 RGB값 예시 - (0,0,0) | 0/0/0 | 0.0.0
                                    | 0 0 0
                                </span>
                            </div>
                        </div>
                        <div id="filterBelow"></div>
                    </div>
                    <div
                        class="filterSetting"
                        style="flex-direction: row; justify-content: flex-start"
                    >
                        <div style="display: flex">
                            <div class="tooltip">
                                <button id="addInputButton" class="link">
                                    필터추가
                                </button>
                                <span class="tooltiptext"
                                    >새로운 필터 추가</span
                                >
                            </div>
                            <label for="toleranceInput">오차 범위</label>
                            <input
                                type="text"
                                id="toleranceInput"
                                placeholder="오차 범위"
                                value="10"
                                style="width: 40px"
                            />

                            <div class="tooltip">
                                <button id="filterButton" class="link">
                                    필터링
                                </button>
                                <span class="tooltiptext"
                                    >필터링 후 한번 더 누르면 필터링 해제</span
                                >
                            </div>
                            <div class="tooltip">
                                <label>
                                    <input
                                        type="checkbox"
                                        id="autoFilter"
                                        style="width: auto"
                                    /><span id="autoFilterText"
                                        >자동 필터링</span
                                    >
                                </label>
                                <span class="tooltiptext"
                                    >체크시 검색 후 자동으로 필터링됩니다</span
                                >
                            </div>
                        </div>
                    </div>
                    <hr style="width: 100%" />
                </div>
                <div style="display: flex; justify-content: center">
                    <button id="toggleFilterButton">필터링 접기</button>
                </div>
            </div>
            <div id="content">
                <div style="align-items: center; text-align: center">
                    <p>
                        Data based on NEXON Open API / 색상값 by
                        주머니디코@jumeonidik3038 님 (감사합니다!) / 열린 주머니
                        이미지 by WF 쭈냠냠이@Elatha_Marry_Me 님 (감사합니다!)
                    </p>
                    <br />
                    <br />
                    <p
                        style="
                            border: 1px solid black;
                            padding: 10px;
                            display: block;
                        "
                    >
                        <span style="font-size: x-large; font-weight: 800"
                            >새로운 업데이트 !</span
                        >
                        <br /><br />
                        필터링 된 값이 배경색으로 강조됩니다<br />
                        채널링한 주머니 창을 클릭하면 캡쳐가 됩니다<br />
                    </p>

                    <br />
                    <p id="jyujul">
                        리셋 후 주머니 데이터가 준비가 되지 않았을 때는 1분 후
                        자동으로 다시 시도합니다.<br />
                    </p>

                    <p style="color: red">
                        채널링 시 api 호출을 많이 하므로 호출 한계 200만인
                        [서비스 단계]로 키를 발급받으시는 게 좋습니다. 키
                        생성방법을 참조하세요.
                    </p>
                    <br />
                    <div
                        style="
                            display: flex;
                            width: 100%;
                            justify-content: center;
                        "
                    >
                        <div class="tooltip">
                            <a
                                class="link"
                                href="https://x.com/maitipoppop"
                                target="_blank"
                                >트위터</a
                            >
                            <span class="tooltiptext"
                                >트위터로 이동합니다.</span
                            >
                        </div>
                        <div class="tooltip">
                            <a
                                class="link"
                                href="https://openapi.nexon.com/ko/my-application/"
                                target="_blank"
                                >API 키 생성</a
                            >
                            <span class="tooltiptext"
                                >넥슨api사이트로 이동합니다.</span
                            >
                        </div>
                        <div class="tooltip">
                            <button class="question-button">
                                ?키 생성방법?
                            </button>
                            <span class="tooltiptext">설명용 이미지</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 모달창 -->
            <div id="modal">
                <div id="modal-content">
                    <div id="modal-time"></div>
                    <span id="modal-close">&times;</span>
                    <div id="modal-pouch"></div>
                    <div id="modal-body"></div>
                </div>
            </div>
            <button id="floatingButton" class="floating-button">↑</button>
        </div>
        <div
            id="channeling-tooltip"
            style="
                position: absolute;
                display: none;
                background-color: #333;
                color: white;
                padding: 5px;
                border-radius: 5px;
                pointer-events: none;
            "
        ></div>
        <div id="notification"></div>
        <div id="loadingOverlay">
            <div class="spinner"></div>
        </div>

        <script src="html2canvas.min.js"></script>
        <script src="script.min.js"></script>
        <!-- <script src="script.js"></script>
        <script src="channeling.js"></script>
        <script src="button.js"></script>
        <script src="pouch.js"></script>
        <script src="filtering.js"></script> -->

        <script>
            document
                .getElementById('floatingButton')
                .addEventListener('click', function () {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
        </script>
    </body>
</html>
